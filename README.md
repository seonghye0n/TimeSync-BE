#  ğŸš€ ì—°ì°¨/ë‹¹ì§ ê´€ë¦¬ í”„ë¡œì íŠ¸

## ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
- [í”„ë¡œì íŠ¸ ê¸°ê°„](#-í”„ë¡œì íŠ¸-ê¸°ê°„)
- [íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ê¸°ìˆ  ì•„í‚¤í…ì²˜](#-ê¸°ìˆ -ì•„í‚¤í…ì²˜)
- [í”„ë¡œì íŠ¸ ì„¸ë¶€ ì‚¬í•­](#-í”„ë¡œì íŠ¸-ì„¸ë¶€-ì‚¬í•­)
- [ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•](#-ì„¤ì¹˜-ë°-ì‹¤í–‰-ë°©ë²•)
- [DB ì„¤ê³„](#-DB-ì„¤ê³„)
- [API ë¬¸ì„œ](#-API-ë¬¸ì„œ)
- [ê¸°ìˆ  ì„¤ëª…](#-ê¸°ìˆ -ì„¤ëª…)
- 
## ğŸŒŸ í”„ë¡œì íŠ¸ ê°œìš”
"ì—°ì°¨/ë‹¹ì§ ì„ ê´€ë¦¬í•˜ëŠ”ë° ì¢€ ë” íš¨ìœ¨ì ì´ê³  í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ê²Œë” ë§Œë“¤ì–´ì¡Œë‹¤."

## ğŸ“… í”„ë¡œì íŠ¸ ê¸°ê°„
### 2023ë…„ 7ì›” 25ì¼ - 2023ë…„ 8 ì›” 11ì¼

## ğŸ‘¥ íŒ€ì› ì†Œê°œ 
<table>
  <tbody>
    <tr>
      <td align="center">
        <a href="https://github.com/seonghye0n"><img src="https://avatars.githubusercontent.com/u/53041717?v=4" width="100px;" alt=""/><br/>
        <sub><b>BE íŒ€ì¥ : ë°•ì„±í˜„</b></sub></a><br/>
        <ol>
          <b>API</b>
          <li>ë©”ì¸ í˜ì´ì§€ ì¡°íšŒ</li>
          <li>ì—°ì°¨ ë“±ë¡, ìˆ˜ì •, ì‚­ì œ</li>
          <li>ë§ˆì´ í˜ì´ì§€ ì¡°íšŒ</li>
          <li>ê´€ë¦¬ì í˜ì´ì§€ ì¡°íšŒ</li>
          <li>ê²°ì¬ ìŠ¹ì¸</li>
        </ol>
        <ol>
          <b>DB</b>        
          <li>RDS êµ¬ì„±</li>
        </ol>
        <ol>
          <b>ì„œë²„/ë°°í¬</b>
          <li>í…ŒìŠ¤íŠ¸ ì„œë²„ êµ¬ì„± (EC2)</li>
          <li>SSL ì ìš©</li>
          <li>ìš´ì˜ ì„œë²„ êµ¬ì„± (Elastic Beanstalk)</li>
          <li>GitHub Action ì´ìš©í•˜ì—¬ ë°°í¬ ìë™í™”</li>
        </ol>
      </td>
      <td align="center"><a href="https://github.com/zjdtm"><img src="https://avatars.githubusercontent.com/u/35757620?v=4" width="100px;" alt=""/><br /><sub><b>BE íŒ€ì› : ì„œìš©í˜„</b></sub></a><br />
      <ol>
        <b>API</b>
        <li>ë¡œê·¸ì¸, íšŒì›ê°€ì…</li>
        <li>ê°œì¸ì •ë³´(ë¹„ë°€ë²ˆí˜¸) ìˆ˜ì •</li>
      </ol>
      <ol>
        <b>ë³´ì•ˆ / ì¸ì¦</b>        
        <li>JWT Token êµ¬í˜„ (AccessToken, RefreshToken)</li>
        <li>Spring Security ì„¤ì •</li>
        <li>AES ì•”í˜¸í™” êµ¬í˜„</li>
      </ol>
      <ol>
        <b>DB</b>      
        <li>Redis êµ¬ì„± (Refresh Token ê´€ë¦¬)</li>
      </ol>
      </td>
  </tbody>
</table>

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ
<div align=center>
  
<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> 
<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white">
<img src="https://img.shields.io/badge/springsecurity-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white">

<img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white">
<img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=Redis&logoColor=white">
<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white">
<img src="https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=Gradle&logoColor=white">
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white">

<img src="https://img.shields.io/badge/GitHub Actions-2088FF?style=for-the-badge&logo=GitHub Actions&logoColor=white">
<img src="https://img.shields.io/badge/Nginx-009639?style=for-the-badge&logo=Nginx&logoColor=white">
<img src="https://img.shields.io/badge/RDS-527FFF?style=for-the-badge&logo=AmazonRDS&logoColor=white">

</div>

## ğŸ›ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜

![image](https://github.com/seonghye0n/miniproject/assets/35757620/fe3cdfa9-b374-4645-aed9-7c2af8235ed9)

## ğŸ“ í”„ë¡œì íŠ¸ ì„¸ë¶€ ì‚¬í•­

- ### ğŸ“… ì—°ì°¨ ë° ë‹¹ì§ ê´€ë¦¬ ì‹œìŠ¤í…œ ê°œë°œ
    ![ì—°ì°¨, ë‹¹ì§ ê´€ë¦¬ ì‹œìŠ¤í…œ](https://github.com/seonghye0n/miniproject/assets/35757620/4417377f-cc9c-4d24-afd8-f100e2242c9e)
- ### ğŸ’¼ ì‚¬ìš©ì ì¹œí™”ì ì¸ UI/UX ë””ìì¸
    ![ì—°ì°¨, ë‹¹ì§ ë©”ì¸ í˜ì´ì§€](https://github.com/seonghye0n/miniproject/assets/35757620/7043bdf6-c4ce-45eb-ae0b-fc4a56a9f8af)
- ### ğŸ› ï¸ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ í˜‘ì—…ì„ í†µí•œ í”„ë¡œì íŠ¸
    í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œì íŠ¸ 
    ë§í¬ : https://github.com/FastCampusGroupFE9/MiniProject_KDT9
  
## âš™ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

í”„ë¡œì íŠ¸ ë§í¬ : https://hmteresting.netlify.app/

## ğŸ“‘ DB ì„¤ê³„

### Member
```sql
create table member (
        annual_remain integer not null,
        annual_used integer not null,
        annual_amount_id bigint,
        created_at datetime(6),
        id bigint not null auto_increment,
        joined_at datetime(6) not null,
        modified_at datetime(6),
        email varchar(255),
        name varchar(255),
        password varchar(255),
        position varchar(255),
        role enum ('ADMIN','USER'),
        primary key (id)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```
### req
```sql
create table reg (
        lasted_at date not null,
        started_at date not null,
        created_at datetime(6) not null,
        id bigint not null auto_increment,
        member_id bigint,
        modified_at datetime(6),
        category enum ('ANNUAL','DUTY') not null,
        reason enum ('ANNUAL','CONDOLENCE','MATERNITY','OTHER','SICK'),
        status enum ('COMPLETE','READY') not null,
        title varchar(255),
        primary key (id)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

### Annual
```sql
create table annual (
        annual_amount integer not null,
        years integer not null,
        id bigint not null auto_increment,
        hist_year varchar(255),
        position varchar(255),
        primary key (id)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

### login_log
```sql
create table login_log (
        id bigint not null auto_increment,
        member_id bigint,
        success_login_date datetime(6),
        client_ip varchar(255) not null,
        user_agent varchar(255) not null,
        primary key (id)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

## ğŸ“„ API ë¬¸ì„œ

| ì—”ë“œí¬ì¸íŠ¸             | ë©”ì†Œë“œ | ìš”ì²­ ë³¸ë¬¸ (Request Body)           | ìš”ì²­ í—¤ë” (Request Headers) | ì‘ë‹µ ë³¸ë¬¸ (Response Body)          |
|-----------------------|--------|-----------------------------------|-------------------------|-----------------------------------|
| `/api/register`     | POST   | ``` {email: asd@asd.com, password: 1234567, name: â€œì•„ë¬´ê°œâ€, join: YYYY-MM-DD } ``` | -                 | `ìƒíƒœê°’ 200 ok,json body ì— â€œíšŒì›ê°€ì…ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤â€. ë©”ì‹œì§€` |
| `/api/login`           | POST    | -                                 | `{ email: ì´ë©”ì¼password: íŒ¨ìŠ¤ì›Œë“œ}` | `ìƒíƒœê°’ 200 ok, accessToken ì€ json body, refreshToken ì€ cookie ê°’ì— ì €ì¥` |
| `/api/token`          | POST   | `{"startDate": "2023-08-15", "endDate": "2023-08-20"}` | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | `ìƒíƒœê°’ 200 ok, accessToken ì€ json body, refreshToken ì€ cookie ê°’ì— ì €ì¥` |
| `/api/logout`          | POST  | -  | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | `ìƒíƒœê°’ 200 ok, ë©”ì‹œì§€`|
| `/api/main`          | GET  | `                           | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | ![image](https://github.com/seonghye0n/miniproject/assets/35757620/a4400c07-dc53-4f54-9823-f469c7b32f6c) | 
| `/api/annual`          | POST  | `{â€œtitleâ€ : â€œì—°ì°¨ ì‹ ì²­í•©ë‹ˆë‹¹~~â€, â€œcategoryâ€ : â€œì—°ì°¨â€, â€œstartDateâ€ : â€œ2023-08-02â€, â€œendDateâ€ : â€œ2023-08-07â€,  â€œreasonâ€ : â€œë³‘ê°€â€ }` | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | `ìƒíƒœê°’ 200 ok, ë©”ì‹œì§€` | 
| `/api/user`     | GET   | -  | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | ![image](https://github.com/seonghye0n/miniproject/assets/35757620/2f97ee06-c667-4ee8-8a8e-f04df02e47ff) |
| `/api/user`     | POST   | `{â€œnewPasswordâ€ : â€œìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸â€ }`  | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | `ìƒíƒœê°’ 200 ok, ë©”ì‹œì§€` |
| `/api/annual/cancel`     | POST   | {â€œidâ€ : annul ë²ˆí˜¸} | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | `ìƒíƒœê°’ 200. ë©”ì‹œì§€` |
| `/api/annual/update`     | POST   | {â€œidâ€ : 1, â€œtitleâ€ : â€œì—°ì°¨ ìˆ˜ì •í•©ë‹ˆë‹¤~~â€, â€œstartDateâ€ : â€œ2023-08-01â€, â€œendDateâ€ : â€œ2023-08-04â€,â€œreasonâ€ : â€œë³‘ê°€â€} | `Authorization: Bearer your_access_token`, `Cookie: refreshToken | `ìƒíƒœê°’ 200 ok ë©”ì‹œì§€` |
| `/api/admin`     | GET   | -  | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | ![image](https://github.com/seonghye0n/miniproject/assets/35757620/69352c1e-6c42-48f1-b413-01909345a239) |
| `/api/admin/apply`     | POST   | { â€œidâ€ : 1 } | `Authorization: Bearer your_access_token`, `Cookie: refreshToken` | `ìƒíƒœê°’ 200 ok, ë©”ì‹œì§€` |

## ğŸ› ï¸ ê¸°ìˆ  ì„¤ëª…

### Java ë° Spring Boot
í”„ë¡œì íŠ¸ëŠ” Java ì–¸ì–´ì™€ Spring Boot í”„ë ˆì„ì›Œí¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. Spring BootëŠ” ê°„ê²°í•˜ê³  íš¨ìœ¨ì ì¸ ì½”ë“œ ì‘ì„±ì„ ì§€ì›í•˜ë©°, í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ”ë° í™œìš©ë˜ì—ˆìŠµë‹ˆë‹¤.

### Amazon EC2 ë° RDS
í”„ë¡œì íŠ¸ëŠ” Amazon EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì„œë²„ì™€ ìš´ì˜ ì„œë²„ë¥¼ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” Amazon RDSë¥¼ ì´ìš©í•˜ì—¬ ê´€ë¦¬ë˜ë©°, ì•ˆì •ì ì¸ ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### Redis ìºì‹±
Redisë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹± ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. ìºì‹œë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ì˜ ë¹ ë¥¸ ì¡°íšŒì™€ ì²˜ë¦¬ë¥¼ ê°€ëŠ¥ì¼€ í•˜ì˜€ìŠµë‹ˆë‹¤.

### Spring Security ë° JWT ì¸ì¦
Spring Securityë¥¼ í†µí•´ ê°•ë ¥í•œ ë³´ì•ˆ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, JWT(JSON Web Token) ê¸°ë°˜ì˜ ì¸ì¦ ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦ì„ ë³´ì¥í•©ë‹ˆë‹¤.

### GitHub Actionsë¥¼ í†µí•œ ìë™ ë°°í¬
í”„ë¡œì íŠ¸ì˜ ì†ŒìŠ¤ ì½”ë“œëŠ” GitHub Actionsë¥¼ í™œìš©í•˜ì—¬ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë° ë°°í¬ë˜ë©°, ê°œë°œìë“¤ì˜ ì‘ì—… íë¦„ì„ ìë™í™”í•˜ê³  íš¨ìœ¨ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
